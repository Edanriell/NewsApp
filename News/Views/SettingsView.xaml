<?xml version="1.0" encoding="utf-8"?>

<ContentPage x:Class="News.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Settings"
             BackgroundColor="{AppThemeBinding Light=#F2F2F7, Dark=#000000}">

    <ScrollView>
        <StackLayout Spacing="20" Padding="20">

            <!-- Appearance Settings -->
            <Frame BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#1C1C1E}"
                   CornerRadius="12"
                   HasShadow="True"
                   Padding="0">
                <StackLayout Spacing="0">
                    <Label Text="Appearance"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}"
                           Padding="20,20,20,10" />

                    <StackLayout Orientation="Horizontal"
                                 Padding="20,10">
                        <StackLayout VerticalOptions="Center" HorizontalOptions="StartAndExpand">
                            <Label Text="Dark Mode"
                                   FontSize="16"
                                   TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}" />
                            <Label Text="Use dark theme"
                                   FontSize="14"
                                   TextColor="{AppThemeBinding Light=#8E8E93, Dark=#8E8E93}" />
                        </StackLayout>
                        <Switch x:Name="DarkModeSwitch"
                                IsToggled="False"
                                Toggled="OnDarkModeToggled"
                                VerticalOptions="Center" />
                    </StackLayout>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{AppThemeBinding Light=#C6C6C8, Dark=#38383A}"
                             Margin="20,0" />

                    <StackLayout Orientation="Horizontal"
                                 Padding="20,10">
                        <StackLayout VerticalOptions="Center" HorizontalOptions="StartAndExpand">
                            <Label Text="Font Size"
                                   FontSize="16"
                                   TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}" />
                            <Label Text="Adjust text size"
                                   FontSize="14"
                                   TextColor="{AppThemeBinding Light=#8E8E93, Dark=#8E8E93}" />
                        </StackLayout>
                        <Stepper x:Name="FontSizeStepper"
                                 Minimum="12"
                                 Maximum="24"
                                 Value="16"
                                 Increment="1"
                                 VerticalOptions="Center" />
                    </StackLayout>
                </StackLayout>
            </Frame>

            <!-- News Preferences -->
            <Frame BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#1C1C1E}"
                   CornerRadius="12"
                   HasShadow="True"
                   Padding="0">
                <StackLayout Spacing="0">
                    <Label Text="News Preferences"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}"
                           Padding="20,20,20,10" />

                    <StackLayout Orientation="Horizontal"
                                 Padding="20,10">
                        <StackLayout VerticalOptions="Center" HorizontalOptions="StartAndExpand">
                            <Label Text="Breaking News Notifications"
                                   FontSize="16"
                                   TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}" />
                            <Label Text="Get notified about breaking news"
                                   FontSize="14"
                                   TextColor="{AppThemeBinding Light=#8E8E93, Dark=#8E8E93}" />
                        </StackLayout>
                        <Switch x:Name="NotificationsSwitch"
                                IsToggled="True"
                                VerticalOptions="Center" />
                    </StackLayout>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{AppThemeBinding Light=#C6C6C8, Dark=#38383A}"
                             Margin="20,0" />

                    <StackLayout Orientation="Horizontal"
                                 Padding="20,10">
                        <StackLayout VerticalOptions="Center" HorizontalOptions="StartAndExpand">
                            <Label Text="Auto-refresh"
                                   FontSize="16"
                                   TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}" />
                            <Label Text="Automatically refresh news feed"
                                   FontSize="14"
                                   TextColor="{AppThemeBinding Light=#8E8E93, Dark=#8E8E93}" />
                        </StackLayout>
                        <Switch x:Name="AutoRefreshSwitch"
                                IsToggled="True"
                                VerticalOptions="Center" />
                    </StackLayout>

                    <BoxView HeightRequest="1"
                             BackgroundColor="{AppThemeBinding Light=#C6C6C8, Dark=#38383A}"
                             Margin="20,0" />

                    <StackLayout Padding="20,10">
                        <Label Text="Refresh Interval"
                               FontSize="16"
                               TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}" />
                        <Picker x:Name="RefreshIntervalPicker"
                                Title="Select interval"
                                TextColor="{AppThemeBinding Light=#000000, Dark=#FFFFFF}"
                                TitleColor="{AppThemeBinding Light=#8E8E93, Dark=#8E8E93}">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>5 minutes</x:String>
                                    <x:String>15 minutes</x:String>
                                    <x:String>30 minutes</x:String>
                                    <x:String>1 hour</x:String>
                                    <x:String>Manual only</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </StackLayout>
                </StackLayout>
            </Frame>

            <!-- Actions -->
            <StackLayout Spacing="10">
                <Button Text="Reset to Defaults"
                        BackgroundColor="{AppThemeBinding Light=#FF3B30, Dark=#FF453A}"
                        TextColor="White"
                        CornerRadius="8"
                        Clicked="OnResetDefaultsClicked" />

                <Button Text="Send Feedback"
                        BackgroundColor="{AppThemeBinding Light=#007AFF, Dark=#0A84FF}"
                        TextColor="White"
                        CornerRadius="8"
                        Clicked="OnSendFeedbackClicked" />
            </StackLayout>

        </StackLayout>
    </ScrollView>
</ContentPage>